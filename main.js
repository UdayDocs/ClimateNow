(()=>{"use strict";const e=document.querySelector(".weather-card"),t=document.querySelector(".error-message");let n="c",s=null;const c={city:document.querySelector(".city"),country:document.querySelector(".country"),tempValue:document.querySelector(".temp-value"),description:document.querySelector(".description"),weatherIcon:document.querySelector(".weather-icon"),feelsLike:document.querySelector(".feels-like"),humidity:document.querySelector(".humidity"),wind:document.querySelector(".wind")};function o(e,t){return"c"===t?e:Math.round(9*e/5+32)}function a(s){const a=o(s.temp,n),r=o(s.feelsLike,n);c.city.textContent=s.city,c.country.textContent=s.country,c.tempValue.textContent=a,c.description.textContent=s.description,c.weatherIcon.src=s.icon,c.feelsLike.textContent=`${r}Â°`,c.humidity.textContent=s.humidity,c.wind.textContent=s.wind,function(e){const t=document.body;switch(t.classList.remove("clear","clouds","rain","thunderstorm","snow","mist","haze","fog"),t.classList.remove("default"),e.toLowerCase()){case"clear":t.classList.add("clear");break;case"clouds":t.classList.add("clouds");break;case"rain":case"drizzle":t.classList.add("rain");break;case"thunderstorm":t.classList.add("thunderstorm");break;case"snow":t.classList.add("snow");break;case"mist":case"haze":case"fog":t.classList.add("mist");break;default:t.classList.add("default")}}(s.condition),e.classList.add("show"),t.style.display="none"}document.querySelector(".unit-toggle").addEventListener("click",(e=>{e.target.classList.contains("unit-btn")&&(n=e.target.dataset.unit,document.querySelectorAll(".unit-btn").forEach((e=>e.classList.toggle("active",e.dataset.unit===n))),s&&a(s))})),document.querySelector(".search-form").addEventListener("submit",(async n=>{n.preventDefault();const c=n.target,o=c.querySelector(".search-input"),r=c.querySelector(".search-btn");try{r.classList.add("loading");const e=await async function(e){try{const t=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${encodeURIComponent(e)}&units=metric&appid=e6bbe854d03bc9ce738f1e30c12c4688`);if(404===t.status)throw new Error("City not found. Please try again.");if(!t.ok)throw new Error("Failed to fetch weather data");return await t.json()}catch(e){throw e}}(o.value.trim());s=function(e){const t=e.weather[0].main;return{city:e.name,country:e.sys.country,temp:Math.round(e.main.temp),feelsLike:Math.round(e.main.feels_like),humidity:e.main.humidity+"%",wind:e.wind.speed+" m/s",description:e.weather[0].description,icon:`https://openweathermap.org/img/wn/${e.weather[0].icon}@2x.png`,condition:t}}(e),a(s),o.value=""}catch(n){i=n.message,t.textContent=i,t.style.display="block",e.classList.remove("show"),document.body.classList.remove("clear","clouds","rain","thunderstorm","snow","mist","haze","fog"),document.body.classList.add("default"),s=null}finally{r.classList.remove("loading")}var i}))})();